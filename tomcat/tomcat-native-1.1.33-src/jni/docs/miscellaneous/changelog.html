<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><link href="../images/docs-stylesheet.css" rel="stylesheet" type="text/css"><link href="../images/style.css" rel="stylesheet" type="text/css"><title>The Apache Tomcat Native - Miscellaneous Documentation - </title><meta name="author" content="Jean-Frederic Clere"></head><body><div id="wrapper"><header><div id="header"><div><div><div class="logo noPrint"><a href="http://tomcat.apache.org/"><img alt="Tomcat Home" src="../images/tomcat.png"></a></div><div style="height: 1px;"></div><div class="asfLogo noPrint"><a href="http://www.apache.org/" target="_blank"><img src="../images/asf-feather.png" alt="The Apache Software Foundation" style="width: 266px; height: 83px;"></a></div><h1>The Apache Tomcat Native - Miscellaneous Documentation</h1><div style="height: 1px;"></div><div style="clear: left;"></div></div></div></div></header><div id="middle"><div><div id="mainLeft" class="noprint"><div><nav><div><h2><strong>Links</strong></h2><ul><li><a href="../index.html">Docs Home</a></li></ul></div><div><h2><strong>Miscellaneous Documentation</strong></h2><ul><li><a href="../miscellaneous/changelog.html">Changelog</a></li></ul></div><div><h2><strong>News</strong></h2><ul><li><a href="../news/2014.html">2014</a></li><li><a href="../news/2013.html">2013</a></li><li><a href="../news/2012.html">2012</a></li><li><a href="../news/2011.html">2011</a></li><li><a href="../news/2010.html">2010</a></li><li><a href="../news/2009.html">2009</a></li><li><a href="../news/2008.html">2008</a></li></ul></div></nav></div></div><div id="mainRight"><div id="content"><h2></h2><h3 id="Preface">Preface</h3><div class="text">
  <p>
  This is the Changelog for Tomcat Native. This changelog
  does not contain all updates and fixes to the Tomcat Native (yet).
  It should contain fixes made only after December 19th 2007, when the
  new documentation project for Tomcat Native was started.
  </p>
</div><h3 id="Changes_between_1.1.32_and_1.1.33">Changes between 1.1.32 and 1.1.33</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Fix compilation failures with master branch of OpenSSL. Replace access
      to OpenSSL internals by accessor functions. (rjung/kkolinko)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Fix a zero-boundary-check compiler warning and simplify code in the
      process. (rjung)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Remove superfluous semicolons after close-braces to eliminate compiler
      warnings. (schultz)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=57653">57653</a>: Fix crash when multiple events for same socket are
      returned via separate apr_pollfd_t structures. (markt)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Enable building with OpenSSL 1.0.2 onwards. (billbarker)
    </li>
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Use OpenSSL 1.0.1m with Windows binaries. (markt)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.31_and_1.1.32">Changes between 1.1.31 and 1.1.32</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=53952">53952</a>: Add support for TLSv1.2 and TLSv1.1.
      Patch provided by Marcel Å ebek. (schultz)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=56844">56844</a>: Use OpenSSL 1.0.1j with Windows binaries. (markt)
    </li>
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Use APR 1.5.1 with Windows binaries (markt)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.30_and_1.1.31">Changes between 1.1.30 and 1.1.31</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=55938">55938</a>: Fix "Dereference of null pointer" issues in rarely
      used methods in ssl.c. Fix possible memory leak in Socket.sendto().
      The issues were identified with clang-analyzer. (kkolinko)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=56396">56396</a>: Do not create RSA keys shorter the 1024 bits
      if inside FIPS mode. (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=56423">56423</a>: Implement stubs for methods fipsModeGet, fipsModeSet
      when library is compiled without OpenSSL. (kkolinko)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=56596">56596</a>: Use OpenSSL 1.0.1h with Windows binaries. (markt)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.29_and_1.1.30">Changes between 1.1.29 and 1.1.30</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=56363">56363</a>: Use OpenSSL 1.0.1g with Windows binaries. (mturk)
    </li>      
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=55915">55915</a>: Apply Mike Noordermeer's patch for ECDHE support. (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=55663">55663</a>: Minor correction to the wording of the NOTICE file
      to align it with the <a href="http://www.apache.org/legal/src-headers.html#notice">requirements
      for NOTICE files</a>. (kkolinko)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=56027">56027</a>: Partial fix includes new <code>fipsModeGet</code>
      function to get the current state of OpenSSL FIPS mode.
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.28_and_1.1.29">Changes between 1.1.28 and 1.1.29</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Change return code when removing a socket from a poller, that was
      actually not in the poller from APR_SUCCESS to APR_NOTFOUND. (rjung)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.27_and_1.1.28">Changes between 1.1.27 and 1.1.28</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Java classes in package org.apache.tomcat.jni are now taken
      from Tomcat trunk using svn:externals. (rjung)
    </li>
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Minimum supported APR version is now again 1.2.1. Version 1.3.0
      of APR improves performance. (rjung)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=29422">29422</a>: Fixed double-free in <code>ssl_ocsp_request</code>.
      Patch provided by Aristotelis. (schultz)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=51655">51655</a>: Added a decent description of what tcnative actually is.
      (schultz)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=51813">51813</a>: Add NULL-checking for <code>s-&gt;net</code> to
      avoid SIGSEGV in situations where it appears a socket has been recycled.
      (schultz)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.26_and_1.1.27">Changes between 1.1.26 and 1.1.27</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=54513">54513</a>: Fix regression in pollset return value. (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Switch CPU information on Solaris from milliseconds to
      microseconds. Make consistent with OS.java and Linux impl. (rjung)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.25_and_1.1.26_(not_released)">Changes between 1.1.25 and 1.1.26 (not released)</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=54468">54468</a>: Fix FIPS mode for listeners when using OpenSSL 1.0.1c
      and later; resolves 'Low level API call to digest MD5 forbidden in FIPS
      mode!' errors. (wrowe)
    </li>
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Add clearOptions function to allow access to OpenSSL's
      SSL_CTX_clear_options function. (schultz)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.24_and_1.1.25_(not_released)">Changes between 1.1.24 and 1.1.25 (not released)</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Minimum supported APR version is now 1.3.0. (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=52856">52856</a>: Fix high CPU usage when client changes IP address or
      has high latency. (mturk)
    </li>
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Add CPU information to OS info for Linux.
      This was already available under Windows and Solaris. (rjung)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=53969">53969</a>: ssl.c::hasOp could only check for
      SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION. Now it can check
      for any SSL_OP_* available at compile-time. (schultz)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.23_and_1.1.24">Changes between 1.1.23 and 1.1.24</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Add support for per-socket timeouts inside poller. (markt, mturk)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.22_and_1.1.23">Changes between 1.1.22 and 1.1.23</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=45392">45392</a>: Add support for OCSP verification. Based upon a patch
      from Aristotelis. (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=52119">52119</a>: Autodetect Diablo JDK on FreeBSD and Java7+. Based upon a patch
      from Michael Osipov. (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=52717">52717</a>: Set scope_id for IPv6 addresses if provided. (mturk)
    </li>
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=50570">50570</a>: Allow explicit use of FIPS mode in APR lifecycle
      listener (native support only in this update; Java support to follow).
      Based upon a patch from Chris Beckey. (schultz)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.21_and_1.1.22">Changes between 1.1.21 and 1.1.22</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Arrange release packaging script. (jfclere).
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Fix typos in the changelog. (markt).
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.20_and_1.1.21_(not_released)">Changes between 1.1.20 and 1.1.21 (not released)</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=50394">50394</a>: InternalAprInputBuffer.fill() doesn't deal correctly with EOF. (jfclere)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Support arbitrary protocol combinations of SSLv2, SSLv3 and TLSv1. (rjung)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=51437">51437</a>: Try loading certificate in DER format if PEM was invalid. (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=49557">49557</a>: index error in the loop to get the env info in the proc.create function. (kkolinko, jfclere)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=49851">49851</a>: JNI Registry.deleteKey and Registry.deleteValue corrupt Windows registry. (jfclere)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=48253">48253</a>: adding dynamic locking callbacks for openssl engines. (jfclere)
    </li>
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Make the non blocking write really no blocking. (jfclere)
    </li>
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Add support for unsafe legacy renegotiation. (mturk)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.19_and_1.1.20">Changes between 1.1.19 and 1.1.20</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=48584">48584</a>: Prevent crashing JVM on shutdown. (mturk)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.18_and_1.1.19">Changes between 1.1.18 and 1.1.19</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Update windows resource files to correct version. (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=48129">48129</a>: Fix build with OpenSSL 1.0.0-beta3.
      Patch provided by Tomas Mraz. (mturk, rjung)
    </li>
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Add detection of the Mac OS X JVM. (rjung)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.17_and_1.1.18">Changes between 1.1.17 and 1.1.18</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Fix CVE-2009-3555 SSL-Man-In-The-Middle attack. (mturk)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.16_and_1.1.17">Changes between 1.1.16 and 1.1.17</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Arrange build after svn reorganisation (rjung)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=47852">47852</a>: Fix some Javadoc errors. Patch provided by Sebb. (rjung)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=46950">46950</a>: Fix SSL renegotiation in combination with client
      certificates. The complete solution also needs a fix in Tomcat's Java code. (markt)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Align method names and signatures of native C code and java code. (markt, rjung)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=42728">42728</a>: Remove memory leak. (markt)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=46457">46457</a>: Fix use of multicast. (markt)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Fix API name for recvfrom (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Allow building against APR 1.3 (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Improve fix for <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=43327">43327</a> with better handling for IPv6
      addresses (markt)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.15_and_1.1.16">Changes between 1.1.15 and 1.1.16</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Fix API name for recvfrom (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Allow building against APR 1.3 (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Improve fix for <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=43327">43327</a> with better handling for IPv6
      addresses (markt)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.14_and_1.1.15">Changes between 1.1.14 and 1.1.15</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=43327">43327</a>: Socket bind fail because mixing IPv4/IPv6 (markt, jfclere)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=44864">44864</a>: Use additional check for SSL verify like
      with mod_ssl for SSLVerifyClient=optionalNoCA. (mturk)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.13_and_1.1.14">Changes between 1.1.13 and 1.1.14</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=45071">45071</a>: Reset ttl when Poll.pool remove is false.
      Additional patch was provided by Alex Barclay. (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Fix optGet that was always throwing exceptions. (jfclere)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Fix optSet don't throw exception as JAVA prototype doesn't. (jfclere)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.12_and_1.1.13">Changes between 1.1.12 and 1.1.13</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      IFS problem in native/build/tcnative.m4 (rjung)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Wrong gcc link flag in native/build/tcnative.m4 (rjung)
    </li>
  </ul>
</div><h3 id="Changes_between_1.1.11_and_1.1.12">Changes between 1.1.11 and 1.1.12</h3><div class="text">
  <ul class="changelog">
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Add support of J9VM based JVM. (jfclere)
    </li>
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Arrange licence in source files. (markt)
    </li>
    <li><img alt="Update: " class="icon" src="../images/update.gif">
      Add two new 'immediate' methods for sending the data.
      It is the responsibility of the Java callee to deal with
      the returned values and retry if the error was non-fatal. (mturk)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Arrange the check of openssl version. It was failing on Linux. (jfclere)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      Prevent returning APR_SUCCESS when there is something wrong in ssl layer. (jfclere)
    </li>
    <li><img alt="Fix: " class="icon" src="../images/fix.gif">
      <a href="http://issues.apache.org/bugzilla/show_bug.cgi?id=44087">44087</a>: Fix it. (jfclere)
    </li>
  </ul>
</div></div></div></div></div><footer><div id="footer">
    Copyright &copy; 2008-2015, The Apache Software Foundation
  </div></footer></div></body></html>